<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Profil Employé</title>

    <style>
        body {
            margin:0;
            font-family: Arial, sans-serif;
            background:#f2f2f2;
            display: flex;
        }

        /* HAMBURGER BUTTON */
        .menu-btn {
            font-size: 26px;
            cursor: pointer;
            margin-right: 20px;
            user-select: none;
        }

        /* SIDEBAR */
        .sidebar {
            width: 250px;
            background:white;
            height: 100vh;
            padding: 20px;
            box-shadow: 3px 0 8px rgba(0,0,0,0.1);
            position: fixed;
            left: 0;
            top: 0;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        /* Hidden sidebar */
        .sidebar.hidden {
            transform: translateX(-260px);
        }

        .sidebar h2 {
            margin-top: 0;
            font-size: 22px;
            margin-bottom: 20px;
        }

        .sidebar a {
            text-decoration: none;
            padding: 12px;
            margin: 5px 0;
            background: #f5f5f5;
            border-radius: 6px;
            display: block;
            color: #333;
            font-weight: bold;
            transition: 0.2s;
        }

        .sidebar a:hover {
            background: #ddd;
        }

        /* MAIN CONTENT */
        .main {
            margin-left: 270px;
            padding: 30px;
            width: calc(100% - 270px);
            transition: margin-left 0.3s ease;
        }

        /* When sidebar hidden → content full width */
        .main.expanded {
            margin-left: 0;
            width: 100%;
        }

        header {
            display:flex;
            align-items:center;
            padding:10px 20px;
            background:blanchedalmond;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        header img {
            height:65px;
            margin-right:15px;
        }

        .container {
            background:#fff;
            padding:30px;
            border-radius:10px;
            box-shadow:0 0 15px rgba(0,0,0,0.1);
        }

        .profile {
            display:flex;
            flex-wrap:wrap;
        }

        .left {
            flex:1;
            min-width:250px;
            text-align:center;
            display:flex;
            flex-direction:column;
            align-items:center;
        }

        .left img {
            width:150px;
            height:150px;
            border-radius:50%;
            object-fit:cover;
            margin-bottom:20px;
            border:1px solid #ccc;
        }

        #logoutBtn {
            margin-top:10px;
            padding:10px 20px;
            background:#f44336;
            color:#fff;
            border:none;
            border-radius:5px;
            cursor:pointer;
            width:130px;
        }

        #logoutBtn:hover { background:#d32f2f; }

        .right {
            flex:2;
            display:grid;
            grid-template-columns: repeat(2, 1fr);
            gap:15px;
            min-width:250px;
        }

        .info-label { font-weight:bold; }
    </style>
</head>

<body>

    <!-- SIDEBAR -->
    <div class="sidebar" id="sidebar">
        <h2>Navigation</h2>

        <a href="home_emp.html">Profil</a>
        <a href="demande.html">Demande congé</a>
        <a href="historique_emp.html">Historique</a>
        <a href="calendrier.html">Calendrier</a>
        <a href="solde.html">Solde</a>
    </div>

    <!-- MAIN PAGE -->
    <div class="main" id="main">

        <header>
            <span class="menu-btn" id="menuToggle">☰</span>
            <img src="c:\Users\PC\OneDrive - Ecole Marocaine des Sciences de l'Ingénieur\Bureau\prjt 4 subjects\images\corporate-business-logo-png_seeklogo-386910.png">
            <h1>Profil Employé</h1>
        </header>

        <div class="container">
            <div class="profile">
                <div class="left">
                    <img id="userPhoto" src="#" alt="Photo de profil">
                    <button id="logoutBtn">Se déconnecter</button>
                </div>

                <div class="right">
                    <p><span class="info-label">Nom complet:</span> <span id="fullName"></span></p>
                    <p><span class="info-label">Date de naissance:</span> <span id="dateNaiss"></span></p>
                    <p><span class="info-label">Département:</span> <span id="departement"></span></p>
                    <p><span class="info-label">Spécialité:</span> <span id="specialite"></span></p>
                    <p><span class="info-label">Email:</span> <span id="email"></span></p>
                    <p><span class="info-label">Téléphone:</span> <span id="telephone"></span></p>
                    <p><span class="info-label">Adresse:</span> <span id="adresse"></span></p>
                    <p><span class="info-label">CIN:</span> <span id="cin"></span></p>
                    <p><span class="info-label">Date d'embauche:</span> <span id="dateEmbauche"></span></p>
                </div>
            </div>
        </div>
    </div>

<script>
    /* LOAD USER DATA */
    const user = JSON.parse(localStorage.getItem('loggedInUser'));

    if (!user) {
        window.location.href = "login.html";
    } else {
        document.getElementById('fullName').textContent = user.nom + " " + user.prenom;
        document.getElementById('userPhoto').src = user.photo || "https://via.placeholder.com/150";
        document.getElementById('dateNaiss').textContent = user.dateNaiss;
        document.getElementById('departement').textContent = user.departement;
        document.getElementById('specialite').textContent = user.specialite;
        document.getElementById('email').textContent = user.email;
        document.getElementById('telephone').textContent = user.telephone;
        document.getElementById('adresse').textContent = user.adresse;
        document.getElementById('cin').textContent = user.cin;
        document.getElementById('dateEmbauche').textContent = user.dateEmbauche;
    }

    document.getElementById('logoutBtn').addEventListener('click', () => {
        localStorage.removeItem('loggedInUser');
        window.location.href = "login_emp.html";
    });

    /* SIDEBAR TOGGLE */
    const sidebar = document.getElementById("sidebar");
    const main = document.getElementById("main");
    const toggle = document.getElementById("menuToggle");

    toggle.addEventListener("click", () => {
        sidebar.classList.toggle("hidden");
        main.classList.toggle("expanded");
    });
</script>

</body>
</html>
